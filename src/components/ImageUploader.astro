
<form class="upload-form" method="post" enctype="multipart/form-data">
    <!-- <input class="file-input" name="file" type="file" multiple /> -->
    <input class="file-input" name="file" type="file" accept="image/*" />
    <button type="submit">Upload</button>
</form>

<p id="status"></p>

<div id="file-info-list"></div>

<script>

const form = document.querySelector('form') as HTMLFormElement;
// const status = document.getElementById('status') as HTMLParagraphElement;
const imageInput = document.querySelector(`input[type='file']`) as HTMLInputElement;
const button = document.querySelector('button') as HTMLButtonElement;
//const fileInfoList = document.getElementById('file-info-list') as HTMLDivElement;
async function uploadFiles(formData: FormData): Promise<void> {
    try {
        const response = await fetch('https://httpbin.org/post', {
            method: 'POST',
            body: formData,
        });

        if (!response.ok) {
            throw new Error('Network response was not OK');
        }

        const data = await response.json();
        console.log('Files uploaded successfully:', data);
    } catch (error) {
        console.error('Uploading files failed', error);
    }
}

function handleSubmit(event: SubmitEvent): void {
    alert("wtf???")
    event.preventDefault(); // prevents default browser refresh

    const formData = new FormData(form);
    uploadFiles(formData);
}
form.addEventListener('submit', handleSubmit);
</script>
